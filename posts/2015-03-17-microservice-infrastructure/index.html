<!DOCTYPE html>
<html lang="zh-cn">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.49.2" />

    
    
    

<title>Microservice Infrastructure • Feisky</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Microservice Infrastructure"/>
<meta name="twitter:description" content="Microservices Infrastructure Modern platform for rapidly deploying globally distributed services provided by cisco.
https://github.com/CiscoCloud/microservices-infrastructure
Features  the ability to deploy applications utilizing resources across multiple datacenters (and even clouds), deploying in a decentralized control model, supporting intelligent endpoints, heavy automation, and the on-demand nature of deploying these services to support business requirements and scale.  Architectural Overview  Mesos cluster manager for efficient resource isolation and sharing across distributed services Marathon for cluster management of long running containerized services Consul for service discovery (By using Consul&rsquo;s inbuilt DNS server) Docker container runtime supported by Marathon Multi-datacenter support High availablity  Single Data Center Architecture The base platform contains control nodes that manage the cluster and any number of compute nodes."/>

<meta property="og:title" content="Microservice Infrastructure" />
<meta property="og:description" content="Microservices Infrastructure Modern platform for rapidly deploying globally distributed services provided by cisco.
https://github.com/CiscoCloud/microservices-infrastructure
Features  the ability to deploy applications utilizing resources across multiple datacenters (and even clouds), deploying in a decentralized control model, supporting intelligent endpoints, heavy automation, and the on-demand nature of deploying these services to support business requirements and scale.  Architectural Overview  Mesos cluster manager for efficient resource isolation and sharing across distributed services Marathon for cluster management of long running containerized services Consul for service discovery (By using Consul&rsquo;s inbuilt DNS server) Docker container runtime supported by Marathon Multi-datacenter support High availablity  Single Data Center Architecture The base platform contains control nodes that manage the cluster and any number of compute nodes." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://feisky.xyz/posts/2015-03-17-microservice-infrastructure/" />


    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">








<link rel="stylesheet" href="https://feisky.xyz/scss/hyde-hyde.6f40d28e777b288cb757a1db116a257b6f8dffc63a05e8473d12dc09a52d8d79.css" integrity="sha256-b0DSjnd7KIy3V6HbEWole2&#43;N/8Y6BehHPRLcCaUtjXk=">


<link rel="stylesheet" href="https://feisky.xyz/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">




<link rel="stylesheet" href="https://feisky.xyz/scss/hugo-toc.8549a64d301421b4256ea9a0d5ca8b99178799f569d5d2daeb95f24cef3ce6b7.css" integrity="sha256-hUmmTTAUIbQlbqmg1cqLmReHmfVp1dLa65XyTO885rc=">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    

</head>


    <body class="theme-base-0d ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://feisky.xyz/">Feisky</a>
      </span>
      
      <p class="site__description">
         Notes about anything 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Feisky</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="https://kubernetes.feisky.xyz">
						<span>Kubernetes</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/machine-learning/">
						<span>机器学习</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="https://sdn.feisky.xyz">
						<span>SDN</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/about/">
						<span>About</span>
					</a>
				</li>
			 
		
		</li>
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/feisky" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	
	<a href="https://github.com/feiskyer" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
	
	
	
</section>

      </div>
    </div>
    <div class="copyright">
  &copy; 2018 .
  <a href="https://creativecommons.org/licenses/by-sa/4.0">Some Rights Reserved</a>.
  Built with <a href="https://gohugo.io">Hugo</a> ❤️ <a href="https://github.com/htr3n/hyde-hyde">hyde-hyde</a>.
  
</div>

  </div>
</div>

        <div class="content container">
            
    <article>
  <header>
    <h1>Microservice Infrastructure</h1>
    
    
<div class="post__meta">
    
    
    
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/docker">docker</a>
          
      
    
    
    <br/>
    <i class="fas fa-clock"></i> 2 min read
</div>


  </header>
  
  
  <div class="toc-wrapper">
    <input type="checkbox" id="tocToggle">
    <label for="tocToggle">Table of Content</label>
    
        <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#microservices-infrastructure">Microservices Infrastructure</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#architectural-overview">Architectural Overview</a></li>
<li><a href="#single-data-center-architecture">Single Data Center Architecture</a></li>
<li><a href="#multi-data-center">Multi Data Center</a></li>
<li><a href="#control-nodes">Control Nodes</a></li>
<li><a href="#compute-nodes">Compute Nodes</a></li>
<li><a href="#have-a-try">Have a try</a></li>
<li><a href="#more">More</a></li>
</ul></li>
</ul>
</nav>
    
  </div>
  
  <div class="post">
    

<h2 id="microservices-infrastructure">Microservices Infrastructure</h2>

<p>Modern platform for rapidly deploying globally distributed services provided by cisco.</p>

<p><a href="https://github.com/CiscoCloud/microservices-infrastructure">https://github.com/CiscoCloud/microservices-infrastructure</a></p>

<h2 id="features">Features</h2>

<ul>
<li>the ability to deploy applications utilizing resources across multiple datacenters (and even clouds),</li>
<li>deploying in a decentralized control model,</li>
<li>supporting intelligent endpoints,</li>
<li>heavy automation, and</li>
<li>the on-demand nature of deploying these services to support business requirements and scale.</li>
</ul>

<h2 id="architectural-overview">Architectural Overview</h2>

<ul>
<li>Mesos cluster manager for efficient resource isolation and sharing across distributed services</li>
<li>Marathon for cluster management of long running containerized services</li>
<li>Consul for service discovery (By using Consul&rsquo;s inbuilt DNS server)</li>
<li>Docker container runtime supported by Marathon</li>
<li>Multi-datacenter support</li>
<li>High availablity</li>
</ul>

<h2 id="single-data-center-architecture">Single Data Center Architecture</h2>

<p>The base platform contains control nodes that manage the cluster and any number of compute nodes. Containers automatically register themselves into DNS so that other services can locate them.</p>

<p><img src="https://github.com/CiscoCloud/microservices-infrastructure/blob/master/docs/_static/single_dc.png" alt="" /></p>

<h2 id="multi-data-center">Multi Data Center</h2>

<p>Each datacenter contains a set of control nodes and computes nodes.  The architecture is “share nothing” with the exception of Consul. Consul nodes for all datacenters are automatically joined together to form a single WAN gossip pool. This enables application to local instance in the same datacenter and instances other datacenters with DNS or the Consul exposed API.</p>

<p><img src="https://github.com/CiscoCloud/microservices-infrastructure/raw/master/docs/_static/multi_dc.png" alt="" /></p>

<h2 id="control-nodes">Control Nodes</h2>

<p>The control nodes manage a single datacenter. Each control node runs Consul for service discovery, Mesos leaders for resource scheduling and Mesos frameworks like Marathon.</p>

<p><img src="https://github.com/CiscoCloud/microservices-infrastructure/raw/master/docs/_static/control_node.png" alt="" /></p>

<h2 id="compute-nodes">Compute Nodes</h2>

<p>The compute nodes launch containers and other Mesos-based workloads. Registrator is used to update Consul as containers are launched and exit.</p>

<p><img src="https://github.com/CiscoCloud/microservices-infrastructure/raw/master/docs/_static/compute_node.png" alt="" /></p>

<h2 id="have-a-try">Have a try</h2>

<pre><code># checkout codes
git clone https://github.com/CiscoCloud/microservices-infrastructure.git
cd microservices-infrastructure

# start services
vagrant up

# start microservices via Marathon
curl -X POST -H &quot;Accept: application/json&quot; -H &quot;Content-Type: application/json&quot; http://localhost:8080/v2/apps -d '{
  &quot;id&quot;: &quot;webserver&quot;,
  &quot;cmd&quot;: &quot;python -m SimpleHTTPServer 8080&quot;,
  &quot;cpus&quot;: 0.5,
  &quot;mem&quot;: 64.0,
  &quot;instances&quot;: 1,
  &quot;container&quot;: {
    &quot;type&quot;: &quot;DOCKER&quot;,
    &quot;docker&quot;: {
      &quot;image&quot;: &quot;centos&quot;,
      &quot;network&quot;: &quot;BRIDGE&quot;,
      &quot;portMappings&quot;: [
        { &quot;containerPort&quot;: 8080, &quot;hostPort&quot;: 0, &quot;servicePort&quot;: 9000, &quot;protocol&quot;: &quot;tcp&quot; }
      ]
    }
  }
}'
</code></pre>

<h2 id="more">More</h2>

<p>See more at <a href="https://github.com/CiscoCloud/microservices-infrastructure">https://github.com/CiscoCloud/microservices-infrastructure</a></p>

  </div>
  

<div class="navigation navigation-single">
    
    <a href="/posts/2015-06-04-mininet-links/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Mininet links</span>
    </a>
    
    
    <a href="/posts/2015-02-12-linux-netcat-examples/" class="navigation-next">
      <span class="navigation-tittle">Linux netcat examples</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  


<div class="post__related">
    
    <h2>Related Articles</h2>
    <ul class="related-posts">
        
<li>
  <span class="list__title--small">
    <a href="/posts/2017-01-09-%E4%BD%BF%E7%94%A8docker-dind%E5%88%9B%E5%BB%BAswarm%E9%9B%86%E7%BE%A4/">使用docker dind创建swarm集群</a>
      
      <time class="pull-right hidden-tablet">Jan 09 &#39;17</time>
      
  </span>
</li>

<li>
  <span class="list__title--small">
    <a href="/posts/2015-03-20-docker-in-tencent/">docker in tencent</a>
      
  </span>
</li>

<li>
  <span class="list__title--small">
    <a href="/posts/2015-02-12-how-to-use-docker-compose-to-deploy-a-flask-app/">How to use docker compose to deploy a flask app</a>
      
  </span>
</li>

<li>
  <span class="list__title--small">
    <a href="/posts/2015-02-13-installing-nova-docker-on-openstack-juno/">Installing nova docker on OpenStack Juno</a>
      
  </span>
</li>

<li>
  <span class="list__title--small">
    <a href="/posts/2015-03-02-setting-up-gre-for-kubernetes/">Setting up GRE for Kubernetes</a>
      
  </span>
</li>

    </ul>
</div>



  
    
        <div id="disqus_thread"></div>
<script type="text/javascript">
    

    (function () {
    if (location.hostname === "localhost" ||
      location.hostname === "127.0.0.1" ||
      location.hostname === "") {
      return;
    }
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    var disqus_shortname = 'feisky';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || 
      document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<noscript>
  Please enable JavaScript to view the
  <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by
  <span class="logo-disqus">Disqus</span>
</a>

    


</article>


        </div>
        
    
  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-69699206-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script defer src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"
  integrity="sha384-4oV5EgaV02iISL2ban6c/RmotsABqE4yZxZLcYMAdG7FAPsyHYAPpywE9PJo+Khy"
  crossorigin="anonymous">
</script>


    
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        
    
    <script type="text/javascript">
        
        hljs.initHighlightingOnLoad();
    </script>
    






    



    </body>
</html>
