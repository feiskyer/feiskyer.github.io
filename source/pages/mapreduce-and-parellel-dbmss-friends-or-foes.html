layout: false
---
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head><!-- <meta name="baidu-site-verification" content="707024a76f8f40b549f07f478abab237"/> -->
<title>MapReduce and Parallel DBMSs: Friends or Foes?（MapReduce和并行数据库，朋友还是敌人？）</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="title" content="MapReduce and Parallel DBMSs: Friends or Foes?（MapReduce和并行数据库，朋友还是敌人？）"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2014-01-02T19:56+0800"/>
<meta name="author" content="dirtysalt"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style><link rel="shortcut icon" href="http://blog.com/css/favicon.ico" /> <link rel="stylesheet" type="text/css" href="./css/site.css" />


</head>
<body><!-- <div id="bdshare" class="bdshare_t bds_tools_32 get-codes-bdshare"><a class="bds_tsina"></a><span class="bds_more"></span><a class="shareCount"></a></div> --><!-- Place this tag where you want the +1 button to render --><!-- <g:plusone annotation="inline"></g:plusone> -->

<div id="preamble">

</div>

<div id="content">
<h1 class="title">MapReduce and Parallel DBMSs: Friends or Foes?（MapReduce和并行数据库，朋友还是敌人？）</h1>


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 mapreduce-and-parellel-dbmss-friends-or-foes</a>
<ul>
<li><a href="#sec-1-1">1.1 Parallel Database Systems</a></li>
<li><a href="#sec-1-2">1.2 Mapping Parallel DBMSs onto MapReduce</a></li>
<li><a href="#sec-1-3">1.3 Possible Applications</a></li>
<li><a href="#sec-1-4">1.4 DBMs "Sweet Spot"</a></li>
<li><a href="#sec-1-5">1.5 Architectural Differences</a></li>
<li><a href="#sec-1-6">1.6 Learning from Each Other</a></li>
<li><a href="#sec-1-7">1.7 Conclusion</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> mapreduce-and-parellel-dbmss-friends-or-foes</h2>
<div class="outline-text-2" id="text-1">

<ul>
<li><a href="http://cacm.acm.org/magazines/2010/1/55743-mapreduce-and-parallel-dbmss-friends-or-foes/fulltext">http://cacm.acm.org/magazines/2010/1/55743-mapreduce-and-parallel-dbmss-friends-or-foes/fulltext</a>
</li>
</ul>



</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> Parallel Database Systems</h3>
<div class="outline-text-3" id="text-1-1">

</div>

</div>

<div id="outline-container-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> Mapping Parallel DBMSs onto MapReduce</h3>
<div class="outline-text-3" id="text-1-2">

</div>

</div>

<div id="outline-container-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> Possible Applications</h3>
<div class="outline-text-3" id="text-1-3">

<p>作者认为MapReduce更加适合的应用场景
</p><ul>
<li>ETL and "read once" data sets. 
</li>
<li>Complex analytics.
</li>
<li>Semi-structured data. 
</li>
<li>Quick-and-dirty analyses. 
</li>
<li>Limited-budget operations. <b>NOTE（blog）：这是最关键的点，这也是为什么并行计算在MR出来之前迟迟地停留在PDBMS领域</b>
<ul>
<li>Another strength of MR systems is that most are open source projects available for free. DBMSs, and in particular parallel DBMSs, are expensive
</li>
<li>though there are good single-node open source solutions, to the best of our knowledge, there are no robust, community-supported parallel DBMSs. 
</li>
</ul>

</li>
<li>Powerful tools. 当做工具来使用
</li>
</ul>


</div>

</div>

<div id="outline-container-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> DBMs "Sweet Spot"</h3>
<div class="outline-text-3" id="text-1-4">

<ul>
<li>DBMSs ought to be good at analytical queries involving complex join operations (see the table). The DBMSs are a factor of 36 and 21 respectively faster than Hadoop. In general, query times for a typical user task fall somewhere in between these extremes. In the next section, we explore the reasons for these results. <b>结论是DBMS更加适合做复杂查询</b>
</li>
</ul>


</div>

</div>

<div id="outline-container-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> Architectural Differences</h3>
<div class="outline-text-3" id="text-1-5">

<ul>
<li>Repetitive record parsing. 
</li>
<li>Compression
</li>
<li>Pipelining push/pull
</li>
<li>Scheduling
<ul>
<li>In a parallel DBMS, each node knows exactly what it must do and when it must do it according to the distributed query plan. Because the operations are known in advance, the system is able to optimize the execution plan to minimize data transmission between nodes. 对于DBMS来说因为查询方案是以及数据分布都是已知的，所以能够静态地分析以及优化查询计划，调度也是静态的。
</li>
<li>In contrast, each task in an MR system is scheduled on processing nodes one storage block at a time. 而MapReduce则只是简单地分配，需要动态地进行调度。
</li>
<li>Such runtime work scheduling at a granularity of storage blocks is much more expensive than the DBMS compile-time scheduling. 动态调度的开销相对大一些
</li>
<li>The former has the advantage, as some have argued, of allowing the MR scheduler to adapt to workload skew and performance differences between nodes. 但是动态调度也可以解决数据倾斜不平衡的问题。
</li>
</ul>

</li>
<li>Column-oriented storage. 
</li>
</ul>


<p>
We generally expect ETL and complex analytics to be amenable to MR systems and query-intensive workloads to be run by DBMSs. <b>MR更加适合做ETL和复杂分析工作，而DBMS更加适合复杂查询</b>
</p>
</div>

</div>

<div id="outline-container-1-6" class="outline-3">
<h3 id="sec-1-6"><span class="section-number-3">1.6</span> Learning from Each Other</h3>
<div class="outline-text-3" id="text-1-6">

</div>

</div>

<div id="outline-container-1-7" class="outline-3">
<h3 id="sec-1-7"><span class="section-number-3">1.7</span> Conclusion</h3>
<div class="outline-text-3" id="text-1-7">

</div>
</div>
</div>
</div>

<div id="postamble">
<p class="date">Date: 2014-01-02T19:56+0800</p>
<p class="creator"><a href="http://orgmode.org">Org</a> version 7.9.2 with <a href="http://www.gnu.org/software/emacs/">Emacs</a> version 23</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div>
<!-- Baidu Analytics BEGIN --><script type="text/javascript">var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F54a700ad7035f6e485eaf2300641e7e9' type='text/javascript'%3E%3C/script%3E"));</script><!-- Baidu Analytics END --><!-- Google Analytics BEGIN --><!-- <script type="text/javascript">  var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-31377772-1']);  _gaq.push(['_trackPageview']);  (function() {    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);  })();</script> --><!-- Google Analytics END --><!-- Baidu Button BEGIN --><!-- <script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=6762177" ></script><script type="text/javascript" id="bdshell_js"></script><script type="text/javascript"> document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)</script> --><!-- Baidu Button END --><!-- G+ BEGIN --><!-- Place this render call where appropriate --><!-- <script type="text/javascript">  (function() {    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;    po.src = 'https://apis.google.com/js/plusone.js';    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);  })();</script> --><!-- G+ END --><!-- DISQUS BEGIN --><div id="disqus_thread"></div><script type="text/javascript">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * *//* required: replace example with your forum shortname  */var disqus_shortname = 'feiskyblog';var disqus_identifier = 'mapreduce-and-parellel-dbmss-friends-or-foes.html';var disqus_title = 'mapreduce-and-parellel-dbmss-friends-or-foes.html';var disqus_url = 'http://blog.com/mapreduce-and-parellel-dbmss-friends-or-foes.html';/* * * DON'T EDIT BELOW THIS LINE * * */(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a><!-- DISQUS END --></body>
</html>
